{"remainingRequest":"D:\\zhengxinyuzxy.github.io\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!D:\\zhengxinyuzxy.github.io\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\zhengxinyuzxy.github.io\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\zhengxinyuzxy.github.io\\node_modules\\@vuepress-reco\\vuepress-plugin-bgm-player\\bin\\BgMusic.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\zhengxinyuzxy.github.io\\node_modules\\@vuepress-reco\\vuepress-plugin-bgm-player\\bin\\BgMusic.vue","mtime":1689759593199},{"path":"D:\\zhengxinyuzxy.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689759593638},{"path":"D:\\zhengxinyuzxy.github.io\\node_modules\\babel-loader\\lib\\index.js","mtime":1689759593547},{"path":"D:\\zhengxinyuzxy.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689759593638},{"path":"D:\\zhengxinyuzxy.github.io\\node_modules\\vue-loader\\lib\\index.js","mtime":1689759596391}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:bGV0IEludGVyVmFsOwovLyDmrYzmm7LlsIHpnaLnmoTml4vovazop5LluqYKbGV0IHJvdGF0ZVZhbCA9IDA7Ci8vIOatjOabsuWwgemdoueahOaXi+i9rApmdW5jdGlvbiByb3RhdGUoKSB7CiAgSW50ZXJWYWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICBjb25zdCBjb3ZlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWNvLWJnbS1jb3ZlcicpOwogICAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1pbmktb3BlcmF0aW9uJyk7CiAgICBjb25zdCBmbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWx1dC1tZXNzYWdlJyk7CiAgICByb3RhdGVWYWwgKz0gMTsKICAgIC8vIOiuvue9ruaXi+i9rOWxnuaApyjpobrml7bpkogpCiAgICBjb3Zlci5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKCcgKyByb3RhdGVWYWwgKyAnZGVnKSc7CiAgICAvLyDorr7nva7ml4vovazml7bnmoTliqjnlLsgIOWMgOmAnzAuMXMKICAgIGNvdmVyLnN0eWxlLnRyYW5zaXRpb24gPSAnMC4xcyBsaW5lYXInOwogICAgLy8g6K6+572u5peL6L2s5bGe5oCnKOmAhuaXtumSiCkKICAgIGJ0bi5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKC0nICsgcm90YXRlVmFsICsgJ2RlZyknOwogICAgLy8g6K6+572u5peL6L2s5pe255qE5Yqo55S7ICDljIDpgJ8wLjFzCiAgICBidG4uc3R5bGUudHJhbnNpdGlvbiA9ICcwLjFzIGxpbmVhcic7CiAgICAvLyDorr7nva7ml4vovazlsZ7mgKco6YCG5pe26ZKIKQogICAgZm0uc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgtJyArIHJvdGF0ZVZhbCArICdkZWcpJzsKICAgIC8vIOiuvue9ruaXi+i9rOaXtueahOWKqOeUuyAg5YyA6YCfMC4xcwogICAgZm0uc3R5bGUudHJhbnNpdGlvbiA9ICcwLjFzIGxpbmVhcic7CiAgfSwgMTAwKTsKfQppbXBvcnQgdm9sdW1lIGZyb20gJy4vbWl4aW5zL3ZvbHVtZS5qcyc7CmltcG9ydCBNb2R1bGVUcmFuc2l0aW9uIGZyb20gJy4vTW9kdWxlVHJhbnNpdGlvbic7CmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFt2b2x1bWVdLAogIGNvbXBvbmVudHM6IHsKICAgIE1vZHVsZVRyYW5zaXRpb24KICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5mbG9hdFBvc2l0aW9uID09PSAnbGVmdCcpIHsKICAgICAgdGhpcy5mbG9hdFN0eWxlID0gewogICAgICAgIC4uLnRoaXMuZmxvYXRTdHlsZSwKICAgICAgICAnbGVmdCc6ICcwJywKICAgICAgICAnYm9yZGVyLXRvcC1yaWdodC1yYWRpdXMnOiAnMjBweCcsCiAgICAgICAgJ2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzJzogJzIwcHgnCiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICB0aGlzLmZsb2F0U3R5bGUgPSB7CiAgICAgICAgLi4udGhpcy5mbG9hdFN0eWxlLAogICAgICAgICdyaWdodCc6ICcwJywKICAgICAgICAnYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cyc6ICcyMHB4JywKICAgICAgICAnYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyc6ICcyMHB4JwogICAgICB9OwogICAgfQogICAgLy8gYXV0b1Nocmlua+S4unRydWXml7bpmpDol4/mrYzmm7Lkv6Hmga8KICAgIGlmICh0aGlzLmF1dG9TaHJpbmspIHRoaXMuY2hhbmdlQmdtSW5mbyh0cnVlKTsKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYW5lbFBvc2l0aW9uOiBQT1NJVElPTiwKICAgICAgY3VySW5kZXg6IDAsCiAgICAgIGN1clBsYXlTdGF0dXM6ICdwYXVzZWQnLAogICAgICBhdWRpbzogQVVESU9TLAogICAgICBhdXRvcGxheTogQVVUT1BMQVksCiAgICAgIGlzRmxvYXQ6IGZhbHNlLAogICAgICBpc01pbmk6IGZhbHNlLAogICAgICBmaXJzdExvYWQ6IHRydWUsCiAgICAgIGlzTXV0ZTogZmFsc2UsCiAgICAgIGlzRmF1bHQ6IGZhbHNlLAogICAgICBmbG9hdFBvc2l0aW9uOiBGTE9BVF9QT1NJVElPTiwKICAgICAgZmxvYXRTdHlsZTogRkxPQVRfU1RZTEUsCiAgICAgIGF1dG9TaHJpbms6IEFVVE9fU0hSSU5LLAogICAgICBzaHJpbmtNb2RlOiBTSFJJTktfTU9ERQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAnY3VyUGxheVN0YXR1cyc6IGZ1bmN0aW9uIChuZXdWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCA9PT0gJ3BsYXlpbmcnKSB7CiAgICAgICAgcm90YXRlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbChJbnRlclZhbCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaYvuekuuaIlumakOiXj+atjOabsuS/oeaBrwogICAgY2hhbmdlQmdtSW5mbyhib29sKSB7CiAgICAgIGNvbnN0IGlzTW9iaWxlID0gISEvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7CiAgICAgIGlmIChpc01vYmlsZSB8fCB0aGlzLnNocmlua01vZGUgPT09ICdmbG9hdCcpIHsKICAgICAgICB0aGlzLmlzRmxvYXQgPSBib29sOwogICAgICB9IGVsc2UgaWYgKCFpc01vYmlsZSAmJiB0aGlzLnNocmlua01vZGUgPT09ICdtaW5pJykgewogICAgICAgIHRoaXMuaXNNaW5pID0gYm9vbDsKICAgICAgfQogICAgfSwKICAgIC8vIGF1ZGlvIGNhbnBsYXnlm57osIPkuovku7YKICAgIHBsYXlSZWFkeSgpIHsKICAgICAgLy8g56ys5LiA5qyh5Yqg6L295pe25Yid5aeL5YyW6Z+z6YeP5p2h5bm25aSE55CG6Ieq5Yqo5pKt5pS+5LqL5Lu2CiAgICAgIGlmICh0aGlzLmZpcnN0TG9hZCkgewogICAgICAgIGlmICh0aGlzLmdldFZvbHVtZSgpKSB7CiAgICAgICAgICBjb25zdCBwZXJjZW50ID0gdGhpcy5nZXRWb2x1bWUoKTsKICAgICAgICAgIHRoaXMuJHJlZnMudmJhci5zdHlsZS53aWR0aCA9IHBlcmNlbnQgKiAxMDAgKyAnJSc7CiAgICAgICAgICB0aGlzLiRyZWZzLmJnbS52b2x1bWUgPSBwZXJjZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zdCB2YmFyX3dpZHRoID0gdGhpcy4kcmVmcy5iZ20udm9sdW1lICogMTAwICsgJyUnOwogICAgICAgICAgdGhpcy4kcmVmcy52YmFyLnN0eWxlLndpZHRoID0gdmJhcl93aWR0aDsKICAgICAgICB9CiAgICAgICAgdGhpcy5maXJzdExvYWQgPSBmYWxzZTsKICAgICAgICAvLyDoh6rliqjmkq3mlL7nmoTlpITnkIYKICAgICAgICBpZiAodGhpcy5hdXRvcGxheSkgewogICAgICAgICAgY29uc3QgcGxheVByb21pc2UgPSB0aGlzLiRyZWZzLmJnbS5wbGF5KCk7CiAgICAgICAgICBpZiAocGxheVByb21pc2UgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBwbGF5UHJvbWlzZS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Z1ZXByZXNzLXBsdWdpbi1iZ20tcGxheWVyOiDoh6rliqjmkq3mlL7miJDlip8nKTsKICAgICAgICAgICAgICB0aGlzLmN1clBsYXlTdGF0dXMgPSAncGxheWluZyc7CiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Z1ZXByZXNzLXBsdWdpbi1iZ20tcGxheWVyOiDoh6rliqjmkq3mlL7lpLHotKUnKTsKICAgICAgICAgICAgICAvLyBET01FeGNlcHRpb246IHBsYXkoKSBmYWlsZWQgYmVjYXVzZSB0aGUgdXNlciBkaWRu4oCYdCBpbnRlcmFjdCB3aXRoIHRoZSBkb2N1bWVudCBmaXJzdAogICAgICAgICAgICAgIC8vIOebkeWQrOeUqOaIt+eCueWHu+S6i+S7tuWunueOsOiHquWKqOaSreaUvgogICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMucGFnZUNsaWNrSGFuZGxlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIOaSreaUvueKtuaAgeS4i+atjOabsuWHhuWkh+WujOaIkOeri+WNs+aSreaUvgogICAgICBpZiAodGhpcy5jdXJQbGF5U3RhdHVzID09PSAncGxheWluZycpIHsKICAgICAgICB0aGlzLnBsYXlCZ20oKTsKICAgICAgfQogICAgfSwKICAgIHBhZ2VDbGlja0hhbmRsZSgpIHsKICAgICAgLy8g6Ieq5Yqo5pKt5pS+55qE5aSE55CGCiAgICAgIGlmICh0aGlzLmF1dG9wbGF5KSB7CiAgICAgICAgdGhpcy5wbGF5QmdtKCk7CiAgICAgIH0KICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5wYWdlQ2xpY2tIYW5kbGUpOwogICAgfSwKICAgIC8vIOaaguWBnAogICAgcGF1c2VCZ20oKSB7CiAgICAgIHRoaXMuJHJlZnMuYmdtLnBhdXNlKCk7CiAgICAgIHRoaXMuY3VyUGxheVN0YXR1cyA9ICdwYXVzZWQnOwogICAgfSwKICAgIC8vIOaSreaUvgogICAgcGxheUJnbSgpIHsKICAgICAgY29uc3QgcGxheVByb21pc2UgPSB0aGlzLiRyZWZzLmJnbS5wbGF5KCk7CiAgICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcGxheVByb21pc2UudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHRoaXMuaXNGYXVsdCkgewogICAgICAgICAgICB0aGlzLmlzRmF1bHQgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBoYW5kbGUtY2FsbGJhY2stZXJyCiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAvLyDmkq3mlL7lvILluLjml7bmmL7npLrmkq3mlL7lpLHotKXlubbmmoLlgZzmkq3mlL4KICAgICAgICAgIHRoaXMuaXNGYXVsdCA9IHRydWU7CiAgICAgICAgICB0aGlzLnBhdXNlQmdtKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLy8gdGhpcy4kcmVmcy5iZ20ucGxheSgpCiAgICAgIHRoaXMuY3VyUGxheVN0YXR1cyA9ICdwbGF5aW5nJzsKICAgIH0sCiAgICAvLyDmkq3mlL7kuIvkuIDpppYKICAgIHBsYXlOZXh0KCkgewogICAgICB0aGlzLiRyZWZzLnBiYXIuc3R5bGUud2lkdGggPSAwOwogICAgICB0aGlzLmlzRmF1bHQgPSBmYWxzZTsKICAgICAgaWYgKHRoaXMuY3VySW5kZXggPj0gdGhpcy5hdWRpby5sZW5ndGggLSAxKSB7CiAgICAgICAgdGhpcy5jdXJJbmRleCA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJJbmRleCsrOwogICAgICB9CiAgICB9LAogICAgLy8g5pKt5pS+5LiK5LiA6aaWCiAgICBwbGF5TGFzdCgpIHsKICAgICAgdGhpcy4kcmVmcy5wYmFyLnN0eWxlLndpZHRoID0gMDsKICAgICAgdGhpcy5pc0ZhdWx0ID0gZmFsc2U7CiAgICAgIGlmICh0aGlzLmN1ckluZGV4IDw9IDApIHsKICAgICAgICB0aGlzLmN1ckluZGV4ID0gdGhpcy5hdWRpby5sZW5ndGggLSAxOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3VySW5kZXgtLTsKICAgICAgfQogICAgfSwKICAgIC8vIGJnbee7k+adn+aXtuiHquWKqOS4i+S4gOmmlgogICAgYmdtRW5kZWQoKSB7CiAgICAgIHRoaXMuJHJlZnMucGJhci5zdHlsZS53aWR0aCA9IDA7CiAgICAgIHRoaXMucGxheU5leHQoKTsKICAgIH0sCiAgICAvLyDmm7TmlrDmrYzmm7Lov5vluqbmnaEKICAgIHRpbWVVcGRhdGUoKSB7CiAgICAgIGNvbnN0IHRvdGFsX3RpbWUgPSB0aGlzLiRyZWZzLmJnbS5kdXJhdGlvbjsKICAgICAgY29uc3QgY3VyX3RpbWUgPSB0aGlzLiRyZWZzLmJnbS5jdXJyZW50VGltZTsKICAgICAgY29uc3QgYmFyX3dpZHRoID0gY3VyX3RpbWUgLyB0b3RhbF90aW1lICogMTAwICsgJyUnOwogICAgICB0aGlzLiRyZWZzLnBiYXIuc3R5bGUud2lkdGggPSBiYXJfd2lkdGg7CiAgICB9LAogICAgLy8g54K55Ye76L+b5bqm5p2h6Lez5pKtCiAgICBwcm9ncmVzc0p1bXAoZSkgewogICAgICBjb25zdCB0b3RhbF90aW1lID0gdGhpcy4kcmVmcy5iZ20uZHVyYXRpb247CiAgICAgIGNvbnN0IHBlcmNlbnQgPSBlLm9mZnNldFggLyAxNTA7CiAgICAgIC8vIOatjOabsuacquWKoOi9veWujOaIkOaXtueCueWHu+i/m+W6puadoeeahOmUmeivr+WkhOeQhgogICAgICBpZiAoaXNOYU4odG90YWxfdGltZSkpIHJldHVybjsKICAgICAgdGhpcy4kcmVmcy5iZ20uY3VycmVudFRpbWUgPSBwZXJjZW50ICogdG90YWxfdGltZTsKICAgIH0sCiAgICAvLyDngrnlh7vpn7Pph4/mnaHkv67mlLnpn7Pph48KICAgIHZvbHVtZUp1bXAoZSkgewogICAgICBjb25zdCBwZXJjZW50ID0gZS5vZmZzZXRYIC8gNTc7CiAgICAgIGlmIChwZXJjZW50ID49IDAgJiYgcGVyY2VudCA8PSAxKSB7CiAgICAgICAgdGhpcy5pc011dGUgPSAhKHBlcmNlbnQgPiAwKTsKICAgICAgICB0aGlzLiRyZWZzLnZiYXIuc3R5bGUud2lkdGggPSBwZXJjZW50ICogMTAwICsgJyUnOwogICAgICAgIHRoaXMuJHJlZnMuYmdtLnZvbHVtZSA9IHBlcmNlbnQ7CiAgICAgICAgdGhpcy5zZXRWb2x1bWUodGhpcy4kcmVmcy5iZ20udm9sdW1lKTsKICAgICAgfQogICAgfSwKICAgIC8vIOmdmemfswogICAgbXV0ZUJnbSgpIHsKICAgICAgdGhpcy5pc011dGUgPSB0cnVlOwogICAgICB0aGlzLnNldFZvbHVtZSh0aGlzLiRyZWZzLmJnbS52b2x1bWUpOwogICAgICB0aGlzLiRyZWZzLnZiYXIuc3R5bGUud2lkdGggPSAwOwogICAgICB0aGlzLiRyZWZzLmJnbS52b2x1bWUgPSAwOwogICAgfSwKICAgIC8vIOWPlua2iOmdmemfswogICAgdW5NdXRlQmdtKCkgewogICAgICB0aGlzLmlzTXV0ZSA9IGZhbHNlOwogICAgICBpZiAodGhpcy5nZXRWb2x1bWUoKSkgewogICAgICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmdldFZvbHVtZSgpOwogICAgICAgIHRoaXMuJHJlZnMudmJhci5zdHlsZS53aWR0aCA9IHBlcmNlbnQgKiAxMDAgKyAnJSc7CiAgICAgICAgdGhpcy4kcmVmcy5iZ20udm9sdW1lID0gcGVyY2VudDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzLnZiYXIuc3R5bGUud2lkdGggPSAnMTAwJSc7CiAgICAgICAgdGhpcy4kcmVmcy5iZ20udm9sdW1lID0gMTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["InterVal","rotateVal","rotate","setInterval","cover","document","querySelector","btn","fm","style","transform","transition","volume","ModuleTransition","mixins","components","mounted","floatPosition","floatStyle","autoShrink","changeBgmInfo","data","panelPosition","POSITION","curIndex","curPlayStatus","audio","AUDIOS","autoplay","AUTOPLAY","isFloat","isMini","firstLoad","isMute","isFault","FLOAT_POSITION","FLOAT_STYLE","AUTO_SHRINK","shrinkMode","SHRINK_MODE","watch","newVal","clearInterval","methods","bool","isMobile","test","navigator","userAgent","playReady","getVolume","percent","$refs","vbar","width","bgm","vbar_width","playPromise","play","undefined","then","res","console","log","catch","err","window","addEventListener","pageClickHandle","playBgm","removeEventListener","pauseBgm","pause","playNext","pbar","length","playLast","bgmEnded","timeUpdate","total_time","duration","cur_time","currentTime","bar_width","progressJump","e","offsetX","isNaN","volumeJump","setVolume","muteBgm","unMuteBgm"],"sources":["node_modules/@vuepress-reco/vuepress-plugin-bgm-player/bin/BgMusic.vue"],"sourcesContent":["<template>\r\n  <div class=\"reco-bgm-panel\">\r\n    <!-- 播放器 -->\r\n    <audio id=\"bgm\" :src=\"audio[curIndex].url\" ref=\"bgm\" @ended=\"bgmEnded\" @canplay=\"playReady\" @timeupdate=\"timeUpdate\"></audio>\r\n    <module-transition :position=\"floatPosition\">\r\n      <div v-show=\"isFloat\" @click=\"changeBgmInfo(false)\" class=\"reco-float-box\" :style=\"floatStyle\">\r\n        <img :src=\"audio[curIndex].cover\">\r\n      </div>\r\n    </module-transition>\r\n    <module-transition>\r\n      <div class=\"reco-bgm-box\" v-show=\"!isFloat\" :style=\"panelPosition\">\r\n        <!-- 封面 -->\r\n        <div class=\"reco-bgm-cover\" @click=\"changeBgmInfo(false)\" :style=\"`background-image:url(${audio[curIndex].cover})`\">\r\n          <!-- mini操作栏 -->\r\n          <div v-show=\"isMini\" class=\"mini-operation\">\r\n            <i v-show=\"this.curPlayStatus === 'playing' && isMini\" @click.stop=\"pauseBgm\" class=\"reco-bgm reco-bgm-pause\"></i>\r\n            <i v-show=\"this.curPlayStatus === 'paused' && isMini\" @click.stop=\"playBgm\" class=\"reco-bgm reco-bgm-play\"></i>\r\n          </div>\r\n          <!-- 错误信息显示 -->\r\n          <div v-show=\"isFault\" class=\"falut-message\">\r\n            播放失败\r\n          </div>\r\n        </div>\r\n        <module-transition duration=\".15\">\r\n          <!-- 歌曲信息栏 -->\r\n          <div v-show=\"!isMini\" class=\"reco-bgm-info\">\r\n            <!-- 歌曲名 -->\r\n            <div class=\"info-box\"><i class=\"reco-bgm reco-bgm-music music\"></i>{{ audio[curIndex].name }}</div>\r\n            <!-- 艺术家名 -->\r\n            <div class=\"info-box\"><i class=\"reco-bgm reco-bgm-artist\"></i>{{ audio[curIndex].artist }}</div>\r\n            <!-- 歌曲进度条 -->\r\n            <div class=\"reco-bgm-progress\">\r\n              <div class=\"progress-bar\" @click=\"progressJump\">\r\n                <div class=\"bar\" ref=\"pbar\"></div>\r\n              </div>\r\n            </div>\r\n            <!-- 歌曲操作栏 -->\r\n            <div class=\"reco-bgm-operation\">\r\n              <i class=\"reco-bgm reco-bgm-last last\" @click=\"playLast\"></i>\r\n              <i v-show=\"curPlayStatus === 'playing'\" @click=\"pauseBgm\" class=\"reco-bgm reco-bgm-pause pause\"></i>\r\n              <i v-show=\"curPlayStatus === 'paused'\" ref=\"play\" @click=\"playBgm\" class=\"reco-bgm reco-bgm-play play\"></i>\r\n              <i class=\"reco-bgm reco-bgm-next next\" @click=\"playNext\"></i>\r\n              <i v-show=\"!isMute\" @click=\"muteBgm\" class=\"reco-bgm reco-bgm-volume1 volume\"></i>\r\n              <i v-show=\"isMute\" @click=\"unMuteBgm\" class=\"reco-bgm reco-bgm-mute mute\"></i>\r\n              <div class=\"volume-bar\" @click=\"volumeJump\">\r\n                <div class=\"bar\" ref=\"vbar\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </module-transition>\r\n        <!-- 缩放按钮 -->\r\n        <module-transition duration=\".15\">\r\n          <div v-show=\"!isMini\" @click=\"changeBgmInfo(true)\" class=\"reco-bgm-left-box\">\r\n            <i class=\"reco-bgm reco-bgm-left\" ></i>\r\n          </div>\r\n        </module-transition>\r\n      </div>\r\n    </module-transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nlet InterVal\r\n// 歌曲封面的旋转角度\r\nlet rotateVal = 0\r\n// 歌曲封面的旋转\r\nfunction rotate () {\r\n  InterVal = setInterval(function () {\r\n    const cover = document.querySelector('.reco-bgm-cover')\r\n    const btn = document.querySelector('.mini-operation')\r\n    const fm = document.querySelector('.falut-message')\r\n    rotateVal += 1\r\n    // 设置旋转属性(顺时针)\r\n    cover.style.transform = 'rotate(' + rotateVal + 'deg)'\r\n    // 设置旋转时的动画  匀速0.1s\r\n    cover.style.transition = '0.1s linear'\r\n    // 设置旋转属性(逆时针)\r\n    btn.style.transform = 'rotate(-' + rotateVal + 'deg)'\r\n    // 设置旋转时的动画  匀速0.1s\r\n    btn.style.transition = '0.1s linear'\r\n    // 设置旋转属性(逆时针)\r\n    fm.style.transform = 'rotate(-' + rotateVal + 'deg)'\r\n    // 设置旋转时的动画  匀速0.1s\r\n    fm.style.transition = '0.1s linear'\r\n  }, 100)\r\n}\r\nimport volume from './mixins/volume.js'\r\nimport ModuleTransition from './ModuleTransition'\r\nexport default {\r\n  mixins: [volume],\r\n  components: {\r\n    ModuleTransition\r\n  },\r\n  mounted () {\r\n    if (this.floatPosition === 'left') {\r\n      this.floatStyle = {\r\n        ...this.floatStyle,\r\n        'left': '0',\r\n        'border-top-right-radius': '20px',\r\n        'border-bottom-right-radius': '20px'\r\n      }\r\n    } else {\r\n      this.floatStyle = {\r\n        ...this.floatStyle,\r\n        'right': '0',\r\n        'border-top-left-radius': '20px',\r\n        'border-bottom-left-radius': '20px'\r\n      }\r\n    }\r\n    // autoShrink为true时隐藏歌曲信息\r\n    if (this.autoShrink) this.changeBgmInfo(true)\r\n  },\r\n  data () {\r\n    return {\r\n      panelPosition: POSITION,\r\n      curIndex: 0,\r\n      curPlayStatus: 'paused',\r\n      audio: AUDIOS,\r\n      autoplay: AUTOPLAY,\r\n      isFloat: false,\r\n      isMini: false,\r\n      firstLoad: true,\r\n      isMute: false,\r\n      isFault: false,\r\n      floatPosition: FLOAT_POSITION,\r\n      floatStyle: FLOAT_STYLE,\r\n      autoShrink: AUTO_SHRINK,\r\n      shrinkMode: SHRINK_MODE\r\n    }\r\n  },\r\n  watch: {\r\n    'curPlayStatus': function (newVal) {\r\n      if (newVal === 'playing') {\r\n        rotate()\r\n      } else {\r\n        clearInterval(InterVal)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 显示或隐藏歌曲信息\r\n    changeBgmInfo (bool) {\r\n      const isMobile = !!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      )\r\n      if (isMobile || this.shrinkMode === 'float') {\r\n        this.isFloat = bool\r\n      } else if (!isMobile && this.shrinkMode === 'mini') {\r\n        this.isMini = bool\r\n      }\r\n    },\r\n    // audio canplay回调事件\r\n    playReady () {\r\n      // 第一次加载时初始化音量条并处理自动播放事件\r\n      if (this.firstLoad) {\r\n        if (this.getVolume()) {\r\n          const percent = this.getVolume()\r\n          this.$refs.vbar.style.width = percent * 100 + '%'\r\n          this.$refs.bgm.volume = percent\r\n        } else {\r\n          const vbar_width = this.$refs.bgm.volume * 100 + '%'\r\n          this.$refs.vbar.style.width = vbar_width\r\n        }\r\n        this.firstLoad = false\r\n        // 自动播放的处理\r\n        if (this.autoplay) {\r\n          const playPromise = this.$refs.bgm.play()\r\n          if (playPromise !== undefined) {\r\n            playPromise.then(res => {\r\n              console.log('vuepress-plugin-bgm-player: 自动播放成功')\r\n              this.curPlayStatus = 'playing'\r\n            }).catch(err => {\r\n              console.log('vuepress-plugin-bgm-player: 自动播放失败')\r\n              // DOMException: play() failed because the user didn‘t interact with the document first\r\n              // 监听用户点击事件实现自动播放\r\n              window.addEventListener(\"click\", this.pageClickHandle)\r\n            })\r\n          }\r\n        }\r\n      }\r\n      // 播放状态下歌曲准备完成立即播放\r\n      if (this.curPlayStatus === 'playing') {\r\n        this.playBgm()\r\n      }\r\n    },\r\n    pageClickHandle () {\r\n      // 自动播放的处理\r\n      if (this.autoplay) {\r\n        this.playBgm()\r\n      }\r\n      window.removeEventListener('click', this.pageClickHandle)\r\n    },\r\n    // 暂停\r\n    pauseBgm () {\r\n      this.$refs.bgm.pause()\r\n      this.curPlayStatus = 'paused'\r\n    },\r\n    // 播放\r\n    playBgm () {\r\n      const playPromise = this.$refs.bgm.play()\r\n      if (playPromise !== undefined) {\r\n        playPromise.then(res => {\r\n          if (this.isFault) {\r\n            this.isFault = false\r\n          }\r\n        // eslint-disable-next-line handle-callback-err\r\n        }).catch(err => {\r\n          console.log(err)\r\n          // 播放异常时显示播放失败并暂停播放\r\n          this.isFault = true\r\n          this.pauseBgm()\r\n        })\r\n      }\r\n      // this.$refs.bgm.play()\r\n      this.curPlayStatus = 'playing'\r\n    },\r\n    // 播放下一首\r\n    playNext () {\r\n      this.$refs.pbar.style.width = 0\r\n      this.isFault = false\r\n      if (this.curIndex >= this.audio.length - 1) {\r\n        this.curIndex = 0\r\n      } else {\r\n        this.curIndex++\r\n      }\r\n    },\r\n    // 播放上一首\r\n    playLast () {\r\n      this.$refs.pbar.style.width = 0\r\n      this.isFault = false\r\n      if (this.curIndex <= 0) {\r\n        this.curIndex = this.audio.length - 1\r\n      } else {\r\n        this.curIndex--\r\n      }\r\n    },\r\n    // bgm结束时自动下一首\r\n    bgmEnded () {\r\n      this.$refs.pbar.style.width = 0\r\n      this.playNext()\r\n    },\r\n    // 更新歌曲进度条\r\n    timeUpdate () {\r\n      const total_time = this.$refs.bgm.duration\r\n      const cur_time = this.$refs.bgm.currentTime\r\n      const bar_width = cur_time / total_time * 100 + '%'\r\n      this.$refs.pbar.style.width = bar_width\r\n    },\r\n    // 点击进度条跳播\r\n    progressJump (e) {\r\n      const total_time = this.$refs.bgm.duration\r\n      const percent = e.offsetX / 150\r\n      // 歌曲未加载完成时点击进度条的错误处理\r\n      if (isNaN(total_time)) return\r\n      this.$refs.bgm.currentTime = percent * total_time\r\n    },\r\n    // 点击音量条修改音量\r\n    volumeJump (e) {\r\n      const percent = e.offsetX / 57\r\n      if (percent >= 0 && percent <= 1) {\r\n        this.isMute = !(percent > 0)\r\n        this.$refs.vbar.style.width = percent * 100 + '%'\r\n        this.$refs.bgm.volume = percent\r\n        this.setVolume(this.$refs.bgm.volume)\r\n      }\r\n    },\r\n    // 静音\r\n    muteBgm () {\r\n      this.isMute = true\r\n      this.setVolume(this.$refs.bgm.volume)\r\n      this.$refs.vbar.style.width = 0\r\n      this.$refs.bgm.volume = 0\r\n    },\r\n    // 取消静音\r\n    unMuteBgm () {\r\n      this.isMute = false\r\n      if (this.getVolume()) {\r\n        const percent = this.getVolume()\r\n        this.$refs.vbar.style.width = percent * 100 + '%'\r\n        this.$refs.bgm.volume = percent\r\n      } else {\r\n        this.$refs.vbar.style.width = '100%'\r\n        this.$refs.bgm.volume = 1\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@require './assets/iconfont/iconfont.css'\r\n@import './styles/index.styl'\r\n</style>\r\n"],"mappings":"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"}]}