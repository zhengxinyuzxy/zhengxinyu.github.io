{"remainingRequest":"D:\\zhengxinyuzxy.github.io\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\zhengxinyuzxy.github.io\\node_modules\\@vuepress-reco\\vuepress-plugin-bgm-player\\bin\\BgMusic.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\zhengxinyuzxy.github.io\\node_modules\\@vuepress-reco\\vuepress-plugin-bgm-player\\bin\\BgMusic.vue","mtime":1689759593199},{"path":"D:\\zhengxinyuzxy.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689759593638},{"path":"D:\\zhengxinyuzxy.github.io\\node_modules\\babel-loader\\lib\\index.js","mtime":1689759593547},{"path":"D:\\zhengxinyuzxy.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689759593638},{"path":"D:\\zhengxinyuzxy.github.io\\node_modules\\vue-loader\\lib\\index.js","mtime":1689759596391}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpsZXQgSW50ZXJWYWwNCi8vIOatjOabsuWwgemdoueahOaXi+i9rOinkuW6pg0KbGV0IHJvdGF0ZVZhbCA9IDANCi8vIOatjOabsuWwgemdoueahOaXi+i9rA0KZnVuY3Rpb24gcm90YXRlICgpIHsNCiAgSW50ZXJWYWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7DQogICAgY29uc3QgY292ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVjby1iZ20tY292ZXInKQ0KICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5taW5pLW9wZXJhdGlvbicpDQogICAgY29uc3QgZm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmFsdXQtbWVzc2FnZScpDQogICAgcm90YXRlVmFsICs9IDENCiAgICAvLyDorr7nva7ml4vovazlsZ7mgKco6aG65pe26ZKIKQ0KICAgIGNvdmVyLnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoJyArIHJvdGF0ZVZhbCArICdkZWcpJw0KICAgIC8vIOiuvue9ruaXi+i9rOaXtueahOWKqOeUuyAg5YyA6YCfMC4xcw0KICAgIGNvdmVyLnN0eWxlLnRyYW5zaXRpb24gPSAnMC4xcyBsaW5lYXInDQogICAgLy8g6K6+572u5peL6L2s5bGe5oCnKOmAhuaXtumSiCkNCiAgICBidG4uc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgtJyArIHJvdGF0ZVZhbCArICdkZWcpJw0KICAgIC8vIOiuvue9ruaXi+i9rOaXtueahOWKqOeUuyAg5YyA6YCfMC4xcw0KICAgIGJ0bi5zdHlsZS50cmFuc2l0aW9uID0gJzAuMXMgbGluZWFyJw0KICAgIC8vIOiuvue9ruaXi+i9rOWxnuaApyjpgIbml7bpkogpDQogICAgZm0uc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgtJyArIHJvdGF0ZVZhbCArICdkZWcpJw0KICAgIC8vIOiuvue9ruaXi+i9rOaXtueahOWKqOeUuyAg5YyA6YCfMC4xcw0KICAgIGZtLnN0eWxlLnRyYW5zaXRpb24gPSAnMC4xcyBsaW5lYXInDQogIH0sIDEwMCkNCn0NCmltcG9ydCB2b2x1bWUgZnJvbSAnLi9taXhpbnMvdm9sdW1lLmpzJw0KaW1wb3J0IE1vZHVsZVRyYW5zaXRpb24gZnJvbSAnLi9Nb2R1bGVUcmFuc2l0aW9uJw0KZXhwb3J0IGRlZmF1bHQgew0KICBtaXhpbnM6IFt2b2x1bWVdLA0KICBjb21wb25lbnRzOiB7DQogICAgTW9kdWxlVHJhbnNpdGlvbg0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICBpZiAodGhpcy5mbG9hdFBvc2l0aW9uID09PSAnbGVmdCcpIHsNCiAgICAgIHRoaXMuZmxvYXRTdHlsZSA9IHsNCiAgICAgICAgLi4udGhpcy5mbG9hdFN0eWxlLA0KICAgICAgICAnbGVmdCc6ICcwJywNCiAgICAgICAgJ2JvcmRlci10b3AtcmlnaHQtcmFkaXVzJzogJzIwcHgnLA0KICAgICAgICAnYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXMnOiAnMjBweCcNCiAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy5mbG9hdFN0eWxlID0gew0KICAgICAgICAuLi50aGlzLmZsb2F0U3R5bGUsDQogICAgICAgICdyaWdodCc6ICcwJywNCiAgICAgICAgJ2JvcmRlci10b3AtbGVmdC1yYWRpdXMnOiAnMjBweCcsDQogICAgICAgICdib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzJzogJzIwcHgnDQogICAgICB9DQogICAgfQ0KICAgIC8vIGF1dG9TaHJpbmvkuLp0cnVl5pe26ZqQ6JeP5q2M5puy5L+h5oGvDQogICAgaWYgKHRoaXMuYXV0b1NocmluaykgdGhpcy5jaGFuZ2VCZ21JbmZvKHRydWUpDQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBwYW5lbFBvc2l0aW9uOiBQT1NJVElPTiwNCiAgICAgIGN1ckluZGV4OiAwLA0KICAgICAgY3VyUGxheVN0YXR1czogJ3BhdXNlZCcsDQogICAgICBhdWRpbzogQVVESU9TLA0KICAgICAgYXV0b3BsYXk6IEFVVE9QTEFZLA0KICAgICAgaXNGbG9hdDogZmFsc2UsDQogICAgICBpc01pbmk6IGZhbHNlLA0KICAgICAgZmlyc3RMb2FkOiB0cnVlLA0KICAgICAgaXNNdXRlOiBmYWxzZSwNCiAgICAgIGlzRmF1bHQ6IGZhbHNlLA0KICAgICAgZmxvYXRQb3NpdGlvbjogRkxPQVRfUE9TSVRJT04sDQogICAgICBmbG9hdFN0eWxlOiBGTE9BVF9TVFlMRSwNCiAgICAgIGF1dG9TaHJpbms6IEFVVE9fU0hSSU5LLA0KICAgICAgc2hyaW5rTW9kZTogU0hSSU5LX01PREUNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgJ2N1clBsYXlTdGF0dXMnOiBmdW5jdGlvbiAobmV3VmFsKSB7DQogICAgICBpZiAobmV3VmFsID09PSAncGxheWluZycpIHsNCiAgICAgICAgcm90YXRlKCkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNsZWFySW50ZXJ2YWwoSW50ZXJWYWwpDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8g5pi+56S65oiW6ZqQ6JeP5q2M5puy5L+h5oGvDQogICAgY2hhbmdlQmdtSW5mbyAoYm9vbCkgew0KICAgICAgY29uc3QgaXNNb2JpbGUgPSAhIS9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdCgNCiAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudA0KICAgICAgKQ0KICAgICAgaWYgKGlzTW9iaWxlIHx8IHRoaXMuc2hyaW5rTW9kZSA9PT0gJ2Zsb2F0Jykgew0KICAgICAgICB0aGlzLmlzRmxvYXQgPSBib29sDQogICAgICB9IGVsc2UgaWYgKCFpc01vYmlsZSAmJiB0aGlzLnNocmlua01vZGUgPT09ICdtaW5pJykgew0KICAgICAgICB0aGlzLmlzTWluaSA9IGJvb2wNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIGF1ZGlvIGNhbnBsYXnlm57osIPkuovku7YNCiAgICBwbGF5UmVhZHkgKCkgew0KICAgICAgLy8g56ys5LiA5qyh5Yqg6L295pe25Yid5aeL5YyW6Z+z6YeP5p2h5bm25aSE55CG6Ieq5Yqo5pKt5pS+5LqL5Lu2DQogICAgICBpZiAodGhpcy5maXJzdExvYWQpIHsNCiAgICAgICAgaWYgKHRoaXMuZ2V0Vm9sdW1lKCkpIHsNCiAgICAgICAgICBjb25zdCBwZXJjZW50ID0gdGhpcy5nZXRWb2x1bWUoKQ0KICAgICAgICAgIHRoaXMuJHJlZnMudmJhci5zdHlsZS53aWR0aCA9IHBlcmNlbnQgKiAxMDAgKyAnJScNCiAgICAgICAgICB0aGlzLiRyZWZzLmJnbS52b2x1bWUgPSBwZXJjZW50DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgY29uc3QgdmJhcl93aWR0aCA9IHRoaXMuJHJlZnMuYmdtLnZvbHVtZSAqIDEwMCArICclJw0KICAgICAgICAgIHRoaXMuJHJlZnMudmJhci5zdHlsZS53aWR0aCA9IHZiYXJfd2lkdGgNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmZpcnN0TG9hZCA9IGZhbHNlDQogICAgICAgIC8vIOiHquWKqOaSreaUvueahOWkhOeQhg0KICAgICAgICBpZiAodGhpcy5hdXRvcGxheSkgew0KICAgICAgICAgIGNvbnN0IHBsYXlQcm9taXNlID0gdGhpcy4kcmVmcy5iZ20ucGxheSgpDQogICAgICAgICAgaWYgKHBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgIHBsYXlQcm9taXNlLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Z1ZXByZXNzLXBsdWdpbi1iZ20tcGxheWVyOiDoh6rliqjmkq3mlL7miJDlip8nKQ0KICAgICAgICAgICAgICB0aGlzLmN1clBsYXlTdGF0dXMgPSAncGxheWluZycNCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2dWVwcmVzcy1wbHVnaW4tYmdtLXBsYXllcjog6Ieq5Yqo5pKt5pS+5aSx6LSlJykNCiAgICAgICAgICAgICAgLy8gRE9NRXhjZXB0aW9uOiBwbGF5KCkgZmFpbGVkIGJlY2F1c2UgdGhlIHVzZXIgZGlkbuKAmHQgaW50ZXJhY3Qgd2l0aCB0aGUgZG9jdW1lbnQgZmlyc3QNCiAgICAgICAgICAgICAgLy8g55uR5ZCs55So5oi354K55Ye75LqL5Lu25a6e546w6Ieq5Yqo5pKt5pS+DQogICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMucGFnZUNsaWNrSGFuZGxlKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIC8vIOaSreaUvueKtuaAgeS4i+atjOabsuWHhuWkh+WujOaIkOeri+WNs+aSreaUvg0KICAgICAgaWYgKHRoaXMuY3VyUGxheVN0YXR1cyA9PT0gJ3BsYXlpbmcnKSB7DQogICAgICAgIHRoaXMucGxheUJnbSgpDQogICAgICB9DQogICAgfSwNCiAgICBwYWdlQ2xpY2tIYW5kbGUgKCkgew0KICAgICAgLy8g6Ieq5Yqo5pKt5pS+55qE5aSE55CGDQogICAgICBpZiAodGhpcy5hdXRvcGxheSkgew0KICAgICAgICB0aGlzLnBsYXlCZ20oKQ0KICAgICAgfQ0KICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5wYWdlQ2xpY2tIYW5kbGUpDQogICAgfSwNCiAgICAvLyDmmoLlgZwNCiAgICBwYXVzZUJnbSAoKSB7DQogICAgICB0aGlzLiRyZWZzLmJnbS5wYXVzZSgpDQogICAgICB0aGlzLmN1clBsYXlTdGF0dXMgPSAncGF1c2VkJw0KICAgIH0sDQogICAgLy8g5pKt5pS+DQogICAgcGxheUJnbSAoKSB7DQogICAgICBjb25zdCBwbGF5UHJvbWlzZSA9IHRoaXMuJHJlZnMuYmdtLnBsYXkoKQ0KICAgICAgaWYgKHBsYXlQcm9taXNlICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgcGxheVByb21pc2UudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmICh0aGlzLmlzRmF1bHQpIHsNCiAgICAgICAgICAgIHRoaXMuaXNGYXVsdCA9IGZhbHNlDQogICAgICAgICAgfQ0KICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaGFuZGxlLWNhbGxiYWNrLWVycg0KICAgICAgICB9KS5jYXRjaChlcnIgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycikNCiAgICAgICAgICAvLyDmkq3mlL7lvILluLjml7bmmL7npLrmkq3mlL7lpLHotKXlubbmmoLlgZzmkq3mlL4NCiAgICAgICAgICB0aGlzLmlzRmF1bHQgPSB0cnVlDQogICAgICAgICAgdGhpcy5wYXVzZUJnbSgpDQogICAgICAgIH0pDQogICAgICB9DQogICAgICAvLyB0aGlzLiRyZWZzLmJnbS5wbGF5KCkNCiAgICAgIHRoaXMuY3VyUGxheVN0YXR1cyA9ICdwbGF5aW5nJw0KICAgIH0sDQogICAgLy8g5pKt5pS+5LiL5LiA6aaWDQogICAgcGxheU5leHQgKCkgew0KICAgICAgdGhpcy4kcmVmcy5wYmFyLnN0eWxlLndpZHRoID0gMA0KICAgICAgdGhpcy5pc0ZhdWx0ID0gZmFsc2UNCiAgICAgIGlmICh0aGlzLmN1ckluZGV4ID49IHRoaXMuYXVkaW8ubGVuZ3RoIC0gMSkgew0KICAgICAgICB0aGlzLmN1ckluZGV4ID0gMA0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5jdXJJbmRleCsrDQogICAgICB9DQogICAgfSwNCiAgICAvLyDmkq3mlL7kuIrkuIDpppYNCiAgICBwbGF5TGFzdCAoKSB7DQogICAgICB0aGlzLiRyZWZzLnBiYXIuc3R5bGUud2lkdGggPSAwDQogICAgICB0aGlzLmlzRmF1bHQgPSBmYWxzZQ0KICAgICAgaWYgKHRoaXMuY3VySW5kZXggPD0gMCkgew0KICAgICAgICB0aGlzLmN1ckluZGV4ID0gdGhpcy5hdWRpby5sZW5ndGggLSAxDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmN1ckluZGV4LS0NCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIGJnbee7k+adn+aXtuiHquWKqOS4i+S4gOmmlg0KICAgIGJnbUVuZGVkICgpIHsNCiAgICAgIHRoaXMuJHJlZnMucGJhci5zdHlsZS53aWR0aCA9IDANCiAgICAgIHRoaXMucGxheU5leHQoKQ0KICAgIH0sDQogICAgLy8g5pu05paw5q2M5puy6L+b5bqm5p2hDQogICAgdGltZVVwZGF0ZSAoKSB7DQogICAgICBjb25zdCB0b3RhbF90aW1lID0gdGhpcy4kcmVmcy5iZ20uZHVyYXRpb24NCiAgICAgIGNvbnN0IGN1cl90aW1lID0gdGhpcy4kcmVmcy5iZ20uY3VycmVudFRpbWUNCiAgICAgIGNvbnN0IGJhcl93aWR0aCA9IGN1cl90aW1lIC8gdG90YWxfdGltZSAqIDEwMCArICclJw0KICAgICAgdGhpcy4kcmVmcy5wYmFyLnN0eWxlLndpZHRoID0gYmFyX3dpZHRoDQogICAgfSwNCiAgICAvLyDngrnlh7vov5vluqbmnaHot7Pmkq0NCiAgICBwcm9ncmVzc0p1bXAgKGUpIHsNCiAgICAgIGNvbnN0IHRvdGFsX3RpbWUgPSB0aGlzLiRyZWZzLmJnbS5kdXJhdGlvbg0KICAgICAgY29uc3QgcGVyY2VudCA9IGUub2Zmc2V0WCAvIDE1MA0KICAgICAgLy8g5q2M5puy5pyq5Yqg6L295a6M5oiQ5pe254K55Ye76L+b5bqm5p2h55qE6ZSZ6K+v5aSE55CGDQogICAgICBpZiAoaXNOYU4odG90YWxfdGltZSkpIHJldHVybg0KICAgICAgdGhpcy4kcmVmcy5iZ20uY3VycmVudFRpbWUgPSBwZXJjZW50ICogdG90YWxfdGltZQ0KICAgIH0sDQogICAgLy8g54K55Ye76Z+z6YeP5p2h5L+u5pS56Z+z6YePDQogICAgdm9sdW1lSnVtcCAoZSkgew0KICAgICAgY29uc3QgcGVyY2VudCA9IGUub2Zmc2V0WCAvIDU3DQogICAgICBpZiAocGVyY2VudCA+PSAwICYmIHBlcmNlbnQgPD0gMSkgew0KICAgICAgICB0aGlzLmlzTXV0ZSA9ICEocGVyY2VudCA+IDApDQogICAgICAgIHRoaXMuJHJlZnMudmJhci5zdHlsZS53aWR0aCA9IHBlcmNlbnQgKiAxMDAgKyAnJScNCiAgICAgICAgdGhpcy4kcmVmcy5iZ20udm9sdW1lID0gcGVyY2VudA0KICAgICAgICB0aGlzLnNldFZvbHVtZSh0aGlzLiRyZWZzLmJnbS52b2x1bWUpDQogICAgICB9DQogICAgfSwNCiAgICAvLyDpnZnpn7MNCiAgICBtdXRlQmdtICgpIHsNCiAgICAgIHRoaXMuaXNNdXRlID0gdHJ1ZQ0KICAgICAgdGhpcy5zZXRWb2x1bWUodGhpcy4kcmVmcy5iZ20udm9sdW1lKQ0KICAgICAgdGhpcy4kcmVmcy52YmFyLnN0eWxlLndpZHRoID0gMA0KICAgICAgdGhpcy4kcmVmcy5iZ20udm9sdW1lID0gMA0KICAgIH0sDQogICAgLy8g5Y+W5raI6Z2Z6Z+zDQogICAgdW5NdXRlQmdtICgpIHsNCiAgICAgIHRoaXMuaXNNdXRlID0gZmFsc2UNCiAgICAgIGlmICh0aGlzLmdldFZvbHVtZSgpKSB7DQogICAgICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmdldFZvbHVtZSgpDQogICAgICAgIHRoaXMuJHJlZnMudmJhci5zdHlsZS53aWR0aCA9IHBlcmNlbnQgKiAxMDAgKyAnJScNCiAgICAgICAgdGhpcy4kcmVmcy5iZ20udm9sdW1lID0gcGVyY2VudA0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kcmVmcy52YmFyLnN0eWxlLndpZHRoID0gJzEwMCUnDQogICAgICAgIHRoaXMuJHJlZnMuYmdtLnZvbHVtZSA9IDENCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["BgMusic.vue"],"names":[],"mappings":";AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BgMusic.vue","sourceRoot":"node_modules/@vuepress-reco/vuepress-plugin-bgm-player/bin","sourcesContent":["<template>\r\n  <div class=\"reco-bgm-panel\">\r\n    <!-- 播放器 -->\r\n    <audio id=\"bgm\" :src=\"audio[curIndex].url\" ref=\"bgm\" @ended=\"bgmEnded\" @canplay=\"playReady\" @timeupdate=\"timeUpdate\"></audio>\r\n    <module-transition :position=\"floatPosition\">\r\n      <div v-show=\"isFloat\" @click=\"changeBgmInfo(false)\" class=\"reco-float-box\" :style=\"floatStyle\">\r\n        <img :src=\"audio[curIndex].cover\">\r\n      </div>\r\n    </module-transition>\r\n    <module-transition>\r\n      <div class=\"reco-bgm-box\" v-show=\"!isFloat\" :style=\"panelPosition\">\r\n        <!-- 封面 -->\r\n        <div class=\"reco-bgm-cover\" @click=\"changeBgmInfo(false)\" :style=\"`background-image:url(${audio[curIndex].cover})`\">\r\n          <!-- mini操作栏 -->\r\n          <div v-show=\"isMini\" class=\"mini-operation\">\r\n            <i v-show=\"this.curPlayStatus === 'playing' && isMini\" @click.stop=\"pauseBgm\" class=\"reco-bgm reco-bgm-pause\"></i>\r\n            <i v-show=\"this.curPlayStatus === 'paused' && isMini\" @click.stop=\"playBgm\" class=\"reco-bgm reco-bgm-play\"></i>\r\n          </div>\r\n          <!-- 错误信息显示 -->\r\n          <div v-show=\"isFault\" class=\"falut-message\">\r\n            播放失败\r\n          </div>\r\n        </div>\r\n        <module-transition duration=\".15\">\r\n          <!-- 歌曲信息栏 -->\r\n          <div v-show=\"!isMini\" class=\"reco-bgm-info\">\r\n            <!-- 歌曲名 -->\r\n            <div class=\"info-box\"><i class=\"reco-bgm reco-bgm-music music\"></i>{{ audio[curIndex].name }}</div>\r\n            <!-- 艺术家名 -->\r\n            <div class=\"info-box\"><i class=\"reco-bgm reco-bgm-artist\"></i>{{ audio[curIndex].artist }}</div>\r\n            <!-- 歌曲进度条 -->\r\n            <div class=\"reco-bgm-progress\">\r\n              <div class=\"progress-bar\" @click=\"progressJump\">\r\n                <div class=\"bar\" ref=\"pbar\"></div>\r\n              </div>\r\n            </div>\r\n            <!-- 歌曲操作栏 -->\r\n            <div class=\"reco-bgm-operation\">\r\n              <i class=\"reco-bgm reco-bgm-last last\" @click=\"playLast\"></i>\r\n              <i v-show=\"curPlayStatus === 'playing'\" @click=\"pauseBgm\" class=\"reco-bgm reco-bgm-pause pause\"></i>\r\n              <i v-show=\"curPlayStatus === 'paused'\" ref=\"play\" @click=\"playBgm\" class=\"reco-bgm reco-bgm-play play\"></i>\r\n              <i class=\"reco-bgm reco-bgm-next next\" @click=\"playNext\"></i>\r\n              <i v-show=\"!isMute\" @click=\"muteBgm\" class=\"reco-bgm reco-bgm-volume1 volume\"></i>\r\n              <i v-show=\"isMute\" @click=\"unMuteBgm\" class=\"reco-bgm reco-bgm-mute mute\"></i>\r\n              <div class=\"volume-bar\" @click=\"volumeJump\">\r\n                <div class=\"bar\" ref=\"vbar\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </module-transition>\r\n        <!-- 缩放按钮 -->\r\n        <module-transition duration=\".15\">\r\n          <div v-show=\"!isMini\" @click=\"changeBgmInfo(true)\" class=\"reco-bgm-left-box\">\r\n            <i class=\"reco-bgm reco-bgm-left\" ></i>\r\n          </div>\r\n        </module-transition>\r\n      </div>\r\n    </module-transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nlet InterVal\r\n// 歌曲封面的旋转角度\r\nlet rotateVal = 0\r\n// 歌曲封面的旋转\r\nfunction rotate () {\r\n  InterVal = setInterval(function () {\r\n    const cover = document.querySelector('.reco-bgm-cover')\r\n    const btn = document.querySelector('.mini-operation')\r\n    const fm = document.querySelector('.falut-message')\r\n    rotateVal += 1\r\n    // 设置旋转属性(顺时针)\r\n    cover.style.transform = 'rotate(' + rotateVal + 'deg)'\r\n    // 设置旋转时的动画  匀速0.1s\r\n    cover.style.transition = '0.1s linear'\r\n    // 设置旋转属性(逆时针)\r\n    btn.style.transform = 'rotate(-' + rotateVal + 'deg)'\r\n    // 设置旋转时的动画  匀速0.1s\r\n    btn.style.transition = '0.1s linear'\r\n    // 设置旋转属性(逆时针)\r\n    fm.style.transform = 'rotate(-' + rotateVal + 'deg)'\r\n    // 设置旋转时的动画  匀速0.1s\r\n    fm.style.transition = '0.1s linear'\r\n  }, 100)\r\n}\r\nimport volume from './mixins/volume.js'\r\nimport ModuleTransition from './ModuleTransition'\r\nexport default {\r\n  mixins: [volume],\r\n  components: {\r\n    ModuleTransition\r\n  },\r\n  mounted () {\r\n    if (this.floatPosition === 'left') {\r\n      this.floatStyle = {\r\n        ...this.floatStyle,\r\n        'left': '0',\r\n        'border-top-right-radius': '20px',\r\n        'border-bottom-right-radius': '20px'\r\n      }\r\n    } else {\r\n      this.floatStyle = {\r\n        ...this.floatStyle,\r\n        'right': '0',\r\n        'border-top-left-radius': '20px',\r\n        'border-bottom-left-radius': '20px'\r\n      }\r\n    }\r\n    // autoShrink为true时隐藏歌曲信息\r\n    if (this.autoShrink) this.changeBgmInfo(true)\r\n  },\r\n  data () {\r\n    return {\r\n      panelPosition: POSITION,\r\n      curIndex: 0,\r\n      curPlayStatus: 'paused',\r\n      audio: AUDIOS,\r\n      autoplay: AUTOPLAY,\r\n      isFloat: false,\r\n      isMini: false,\r\n      firstLoad: true,\r\n      isMute: false,\r\n      isFault: false,\r\n      floatPosition: FLOAT_POSITION,\r\n      floatStyle: FLOAT_STYLE,\r\n      autoShrink: AUTO_SHRINK,\r\n      shrinkMode: SHRINK_MODE\r\n    }\r\n  },\r\n  watch: {\r\n    'curPlayStatus': function (newVal) {\r\n      if (newVal === 'playing') {\r\n        rotate()\r\n      } else {\r\n        clearInterval(InterVal)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 显示或隐藏歌曲信息\r\n    changeBgmInfo (bool) {\r\n      const isMobile = !!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      )\r\n      if (isMobile || this.shrinkMode === 'float') {\r\n        this.isFloat = bool\r\n      } else if (!isMobile && this.shrinkMode === 'mini') {\r\n        this.isMini = bool\r\n      }\r\n    },\r\n    // audio canplay回调事件\r\n    playReady () {\r\n      // 第一次加载时初始化音量条并处理自动播放事件\r\n      if (this.firstLoad) {\r\n        if (this.getVolume()) {\r\n          const percent = this.getVolume()\r\n          this.$refs.vbar.style.width = percent * 100 + '%'\r\n          this.$refs.bgm.volume = percent\r\n        } else {\r\n          const vbar_width = this.$refs.bgm.volume * 100 + '%'\r\n          this.$refs.vbar.style.width = vbar_width\r\n        }\r\n        this.firstLoad = false\r\n        // 自动播放的处理\r\n        if (this.autoplay) {\r\n          const playPromise = this.$refs.bgm.play()\r\n          if (playPromise !== undefined) {\r\n            playPromise.then(res => {\r\n              console.log('vuepress-plugin-bgm-player: 自动播放成功')\r\n              this.curPlayStatus = 'playing'\r\n            }).catch(err => {\r\n              console.log('vuepress-plugin-bgm-player: 自动播放失败')\r\n              // DOMException: play() failed because the user didn‘t interact with the document first\r\n              // 监听用户点击事件实现自动播放\r\n              window.addEventListener(\"click\", this.pageClickHandle)\r\n            })\r\n          }\r\n        }\r\n      }\r\n      // 播放状态下歌曲准备完成立即播放\r\n      if (this.curPlayStatus === 'playing') {\r\n        this.playBgm()\r\n      }\r\n    },\r\n    pageClickHandle () {\r\n      // 自动播放的处理\r\n      if (this.autoplay) {\r\n        this.playBgm()\r\n      }\r\n      window.removeEventListener('click', this.pageClickHandle)\r\n    },\r\n    // 暂停\r\n    pauseBgm () {\r\n      this.$refs.bgm.pause()\r\n      this.curPlayStatus = 'paused'\r\n    },\r\n    // 播放\r\n    playBgm () {\r\n      const playPromise = this.$refs.bgm.play()\r\n      if (playPromise !== undefined) {\r\n        playPromise.then(res => {\r\n          if (this.isFault) {\r\n            this.isFault = false\r\n          }\r\n        // eslint-disable-next-line handle-callback-err\r\n        }).catch(err => {\r\n          console.log(err)\r\n          // 播放异常时显示播放失败并暂停播放\r\n          this.isFault = true\r\n          this.pauseBgm()\r\n        })\r\n      }\r\n      // this.$refs.bgm.play()\r\n      this.curPlayStatus = 'playing'\r\n    },\r\n    // 播放下一首\r\n    playNext () {\r\n      this.$refs.pbar.style.width = 0\r\n      this.isFault = false\r\n      if (this.curIndex >= this.audio.length - 1) {\r\n        this.curIndex = 0\r\n      } else {\r\n        this.curIndex++\r\n      }\r\n    },\r\n    // 播放上一首\r\n    playLast () {\r\n      this.$refs.pbar.style.width = 0\r\n      this.isFault = false\r\n      if (this.curIndex <= 0) {\r\n        this.curIndex = this.audio.length - 1\r\n      } else {\r\n        this.curIndex--\r\n      }\r\n    },\r\n    // bgm结束时自动下一首\r\n    bgmEnded () {\r\n      this.$refs.pbar.style.width = 0\r\n      this.playNext()\r\n    },\r\n    // 更新歌曲进度条\r\n    timeUpdate () {\r\n      const total_time = this.$refs.bgm.duration\r\n      const cur_time = this.$refs.bgm.currentTime\r\n      const bar_width = cur_time / total_time * 100 + '%'\r\n      this.$refs.pbar.style.width = bar_width\r\n    },\r\n    // 点击进度条跳播\r\n    progressJump (e) {\r\n      const total_time = this.$refs.bgm.duration\r\n      const percent = e.offsetX / 150\r\n      // 歌曲未加载完成时点击进度条的错误处理\r\n      if (isNaN(total_time)) return\r\n      this.$refs.bgm.currentTime = percent * total_time\r\n    },\r\n    // 点击音量条修改音量\r\n    volumeJump (e) {\r\n      const percent = e.offsetX / 57\r\n      if (percent >= 0 && percent <= 1) {\r\n        this.isMute = !(percent > 0)\r\n        this.$refs.vbar.style.width = percent * 100 + '%'\r\n        this.$refs.bgm.volume = percent\r\n        this.setVolume(this.$refs.bgm.volume)\r\n      }\r\n    },\r\n    // 静音\r\n    muteBgm () {\r\n      this.isMute = true\r\n      this.setVolume(this.$refs.bgm.volume)\r\n      this.$refs.vbar.style.width = 0\r\n      this.$refs.bgm.volume = 0\r\n    },\r\n    // 取消静音\r\n    unMuteBgm () {\r\n      this.isMute = false\r\n      if (this.getVolume()) {\r\n        const percent = this.getVolume()\r\n        this.$refs.vbar.style.width = percent * 100 + '%'\r\n        this.$refs.bgm.volume = percent\r\n      } else {\r\n        this.$refs.vbar.style.width = '100%'\r\n        this.$refs.bgm.volume = 1\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@require './assets/iconfont/iconfont.css'\r\n@import './styles/index.styl'\r\n</style>\r\n"]}]}